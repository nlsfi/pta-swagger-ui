{"openapi":"3.0.1","info":{"title":"PTA Intelligent Search API","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"search api","description":"Search for something"}],"paths":{"/v1/search":{"post":{"tags":["search api"],"summary":"Search for services and datasets in Paikkatietoalusta","description":"Perform queries to identify relevant services and datasets. This service provides accurate search results by utilizing ontological dictionaries. Queries can be refined by specifying topics, data providers and themes.","operationId":"hae","parameters":[{"name":"X-CLIENT-LANG","in":"query","description":"The language of the search terms can be specified using this parameter, if left empty the language will be deduced","required":false,"schema":{"type":"string"},"example":"FI"}],"requestBody":{"description":"Request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"}}},"required":true},"responses":{"200":{"description":"successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SearchResult"}}}}}}}}},"components":{"schemas":{"SearchQuery":{"type":"object","properties":{"skip":{"type":"integer","description":"The starting index of paginated results.","format":"int64","example":0},"pageSize":{"type":"integer","description":"Determines how many results are returned per page","format":"int64","example":10},"query":{"type":"array","description":"The list of strings you wish to search","example":["kuopio"],"items":{"type":"string","description":"The list of strings you wish to search","example":"[\"kuopio\"]"}},"queryLanguage":{"type":"string","description":"The language of search terms can be forced to be one of FI, SV, or EN","example":"FI","enum":["FI","SV","EN"]},"facets":{"type":"object","additionalProperties":{"type":"array","description":"List of facets to filter the search by","example":{"types":["isService"],"keywordsInspire":["Ortoilmakuvat"]},"items":{"type":"string","description":"List of facets to filter the search by","example":"{\"types\":[\"isService\"],\"keywordsInspire\":[\"Ortoilmakuvat\"]}","enum":["organisations","topicCategories","keywordsInspire","sourceCatalog","types","distributionFormats"]},"enum":["organisations","topicCategories","keywordsInspire","sourceCatalog","types","distributionFormats"]},"description":"List of facets to filter the search by","example":{"types":["isService"],"keywordsInspire":["Ortoilmakuvat"]},"enum":["organisations","topicCategories","keywordsInspire","sourceCatalog","types","distributionFormats"]},"sort":{"type":"array","description":"Sorting order","items":{"$ref":"#/components/schemas/Sort"}}},"description":"Schema for Developer object..."},"Sort":{"type":"object","properties":{"field":{"type":"string","description":"Field name to sort by","example":"title","enum":["title","datestamp","score"]},"order":{"type":"string","description":"Ascending or descending order","example":"asc","enum":["asc","desc"]}},"description":"This object indicates the sorting order according to field name and ascending or descending order."},"Catalog":{"type":"object","properties":{"url":{"type":"string","description":"Catalog url","example":"https://paikkatietohakemisto.fi"},"type":{"type":"string","description":"Catlog type","example":"CSW"}},"description":"The catalog that the result is from"},"Facet":{"type":"object","properties":{"id":{"type":"string","description":"Facet id"},"count":{"type":"integer","description":"Number of results corresponding to this id","format":"int64"}},"description":"Search result facets","example":{"types":[{"id":"isService","count":1}]}},"Hit":{"type":"object","properties":{"text":{"type":"array","description":"Textual descriptions of the results in multiple languages","items":{"$ref":"#/components/schemas/HitText"}},"score":{"type":"number","description":"Score determines how well result matches the search terms","format":"double","example":1},"id":{"type":"string","description":"The elastic search index id","example":"c43810c7-b9a8-4641-a8d0-2a25071ae22e"},"dateStamp":{"type":"string","description":"Result date","example":"2020-01-27T10:39:23"},"catalog":{"$ref":"#/components/schemas/Catalog"},"types":{"type":"array","description":"List of included types (possible values include isService, isDataset, isAvoindata, isPtaAineisto)","example":["isService"],"items":{"type":"string","description":"List of included types (possible values include isService, isDataset, isAvoindata, isPtaAineisto)","example":"[\"isService\"]"}},"topicCategories":{"type":"array","description":"List of included topic categories","example":["category"],"items":{"type":"string","description":"List of included topic categories","example":"[\"category\"]"}},"keywordsInspire":{"type":"array","description":"List of included INSPIRE keywords","example":["Osoitteet","Ortoilmakuvat"],"items":{"type":"string","description":"List of included INSPIRE keywords","example":"[\"Osoitteet\",\"Ortoilmakuvat\"]"}},"distributionFormats":{"type":"array","description":"List of included distribution formats","example":[],"items":{"type":"string","description":"List of included distribution formats","example":"[]"}}},"description":"List of hits"},"HitOrganisation":{"type":"object","properties":{"name":{"type":"string","description":"Organisation name","example":"Kuopion kaupunki"},"role":{"type":"string","description":"Organisation role"}},"description":"Organisation that the search result belongs to"},"HitText":{"type":"object","properties":{"lang":{"type":"string","description":"Text language","example":"FI"},"title":{"type":"string","description":"Text title","example":"Lorem ipsum"},"abstractText":{"type":"string","description":"Text abstract","example":"orem ipsum dolor sit amet, consectetur adipiscing elit. Duis et mattis nisl."},"organisations":{"type":"array","description":"List of organisations that hit text belongs to","items":{"$ref":"#/components/schemas/HitOrganisation"}}},"description":"Document that matched search query"},"SearchResult":{"type":"object","properties":{"startIndex":{"type":"integer","description":"Start index of pagination","format":"int64","example":0},"totalHits":{"type":"integer","description":"Number of hits contained in the response","format":"int64","example":1},"hits":{"type":"array","description":"List of hits","items":{"$ref":"#/components/schemas/Hit"}},"facets":{"type":"object","additionalProperties":{"type":"array","description":"Facets that are contained in the results that can be used to refine the query","example":{"types":[{"id":"isService","count":1}]},"items":{"$ref":"#/components/schemas/Facet"}},"description":"Facets that are contained in the results that can be used to refine the query","example":{"types":[{"id":"isService","count":1}]}}}}}}}